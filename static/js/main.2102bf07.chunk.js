(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{110:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(50),r=n(15);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={messagesData:[{id:1,text:"\u041f\u0440\u0438\u0432\u0435\u0442, \u043a\u0430\u043a \u0434\u0435\u043b\u0430",time:"8:21"},{id:2,text:"\u041d\u043e\u0440\u043c, \u0447\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0448\u044c",time:"8:22"},{id:3,text:"\u041d\u0438\u0447\u0435\u0433\u043e, \u0430 \u0442\u044b",time:"8:23"},{id:4,text:"\u0422\u043e\u0436\u0435 \u043d\u0438\u0447\u0435\u0433\u043e",time:"8:24"}],dialogsList:[{id:1,name:"\u0414\u044f\u0434\u044f"},{id:2,name:"\u0422\u0435\u0442\u044f"}],newMessageText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},c=function(e){return{type:"SEND-MESSAGE",newMessage:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n={id:12,text:t.newMessage,time:"4:20"};return s({},e,{messagesData:[].concat(Object(a.a)(e.messagesData),[n]),newMessageText:""});default:return e}}},139:function(e,t,n){e.exports={activePage:"Users_activePage__1hc4b",button_showMore:"Users_button_showMore__3dBpn",pagination:"Users_pagination__G_nbL"}},14:function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__ZjDY7",profileInfo__avatarDiv:"ProfileInfo_profileInfo__avatarDiv__eXTxx",profileInfo__avatar:"ProfileInfo_profileInfo__avatar__2pkYw",profileInfo__uploadAvatar:"ProfileInfo_profileInfo__uploadAvatar__31BtQ",profileInfo__editMode:"ProfileInfo_profileInfo__editMode__Gecew",profileInfoEditMode__input:"ProfileInfo_profileInfoEditMode__input__1sPPn",profileInfoEditMode__checkbox:"ProfileInfo_profileInfoEditMode__checkbox__35y2Y"}},140:function(e,t,n){e.exports={preloader:"Preloader_preloader__2gvum"}},141:function(e,t,n){e.exports=n.p+"static/media/load.cffa9d9d.gif"},143:function(e,t,n){e.exports={like:"LikeSign_like__3-OOQ"}},144:function(e,t,n){e.exports=n.p+"static/media/like.3308ee5f.png"},145:function(e,t,n){e.exports={status:"Status_status__ZW5Q7"}},147:function(e,t,n){},148:function(e,t,n){e.exports={commentary:"CommentarySign_commentary__1VBxU"}},149:function(e,t,n){e.exports=n.p+"static/media/commentary.5a6a8108.png"},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p}));var a=n(99),r=n(0),o=n.n(r),s=n(31),i=n.n(s),c=n(93),u=function(e){var t=e.input,n=e.meta,r=(e.child,Object(a.a)(e,["input","meta","child"]));return n.touched&&"Required"===n.error?o.a.createElement("div",{className:i.a.input+" "+i.a.input_zeroValueError},o.a.createElement("textarea",Object.assign({},t,r)),o.a.createElement("span",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b 1 \u0441\u0438\u043c\u0432\u043e\u043b")):n.touched&&"Max length error"===n.error?o.a.createElement("div",{className:i.a.input+" "+i.a.input_maxLengthError},o.a.createElement("textarea",Object.assign({},t,r)),o.a.createElement("span",null,"\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")):o.a.createElement("div",{className:i.a.input},o.a.createElement("textarea",Object.assign({},t,r)))},l=function(e){var t=e.input,n=e.meta,r=Object(a.a)(e,["input","meta"]);return n.touched&&"Required"===n.error?o.a.createElement("div",{className:i.a.input+" "+i.a.input_zeroValueError},o.a.createElement("textarea",Object.assign({},t,r))):n.touched&&"Max length error"===n.error?o.a.createElement("div",{className:i.a.input+" "+i.a.input_maxLengthError},o.a.createElement("textarea",Object.assign({},t,r))):o.a.createElement("div",{className:i.a.input},o.a.createElement("textarea",Object.assign({},t,r)))},p=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return o.a.createElement("div",{className:s},o.a.createElement(c.a,Object.assign({validate:e,placeholder:t,name:n,component:a},r)),i)}},174:function(e,t,n){e.exports=n(303)},24:function(e,t,n){e.exports={news:"News_news__1437-",news__hero:"News_news__hero__1vZQ0",button:"News_button__1CPPk",news__commentary:"News_news__commentary__1OAi_",news__name:"News_news__name__Utyt9",news__date:"News_news__date__wYwCM",news__likeAndCommentaryPanel:"News_news__likeAndCommentaryPanel__p8Ljp",news__likeAndCommentaryPanel__commentarySign:"News_news__likeAndCommentaryPanel__commentarySign__p29oY",news__likeAndCommentaryPanel__likeSign:"News_news__likeAndCommentaryPanel__likeSign__3CPiG",likeAndCommentaryPanel__likeSign:"News_likeAndCommentaryPanel__likeSign__1s9Gx",isLiked:"News_isLiked__12e_O"}},257:function(e,t,n){},258:function(e,t,n){},300:function(e,t,n){e.exports={profile__hero:"Profile_profile__hero__1redV"}},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(3),o=n.n(r),s=n(7),i=n(50),c=n(15),u=n(94),l=u.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1afd68a5-f7c3-4ea6-991c-7d8bc0501e73"}}),p=u.create({baseURL:"https://expressrestapi.herokuapp.com/"}),m={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return l.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},getFirstThreeUsers:function(){return l.get("users?page=1&count=3").then((function(e){return e.data}))},followUser:function(e){return l.post("follow/".concat(e)).then((function(e){return e.data}))},unFollowUser:function(e){return l.delete("follow/".concat(e)).then((function(e){return e.data}))},getUserProfile:function(e){return console.warn("Use new method getProfile"),f.getProfile(e)}},f={getProfile:function(e){return l.get("profile/".concat(e))},getStatus:function(e){return l.get("profile/status/".concat(e))},updateStatus:function(e){return l.put("profile/status",{status:e})},uploadPhoto:function(e){var t=new FormData;return t.append("image",e),l.put("profile/photo",t,{header:{"Content-Type":"multipart/form-data"}})},saveProfileChanges:function(e){return l.put("profile",e)},getPosts:function(e){return p.get("/posts/".concat(e))},savePost:function(e,t){return p.post("/posts",{uid:e,postText:t})},deletePost:function(e){return p.delete("/posts",{data:{postId:e}})},getOnePost:function(e,t){return p.get("/posts/".concat(e,"/").concat(t))},updatePost:function(e,t){return p.patch("/posts/".concat(e),{newPostText:t})},addLike:function(e,t){return p.patch("posts/".concat(e,"/likes"),{uid:t})},deleteLike:function(e,t){return p.delete("posts/".concat(e,"/likes"),{data:{uid:t}})}},d=function(){return l.get("auth/me").then((function(e){return e.data}))},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a}).then((function(e){return e.data}))},g=function(){return l.delete("auth/login").then((function(e){return e.data}))},h={getCapchaUrl:function(){return l.get("security/get-captcha-url").then((function(e){return e.data}))}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return p.get("news?count=".concat(e)).then((function(e){return e.data}))},w=function(e,t,n,a){return p.patch("news/".concat(e,"/commentaries"),{commentaryText:t,userName:n,userId:a})},E=function(e,t){return p.delete("news/".concat(e,"/commentaries"),{data:{_id:t}})},v=function(e,t){return p.patch("news/".concat(e,"/likes"),{userId:t})},O=function(e,t){return p.delete("news/".concat(e,"/likes"),{data:{userId:t}})},y=m,P=n(29);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j="profile-reducer/SET_USER_PROFILE",S="profile-reducer/SET_USER_STATUS",C={postsData:[],newPostText:"Whats up?",profile:null,status:""},I=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getPosts(e);case 2:200===(a=t.sent).status&&n({type:"profile-reducer/GET_POSTS_DATA_SUCESS",postsData:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return{type:j,profile:e}},x=function(e){return{type:S,status:e}},U=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getUserProfile(e);case 2:a=t.sent,n(T(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile-reducer/GET_POSTS_DATA_SUCESS":return N({},e,{postsData:Object(i.a)(t.postsData).reverse()});case j:return N({},e,{profile:t.profile});case S:return N({},e,{status:t.status});case"profile-reducer/DELETE_POST":return N({},e,{postsData:e.postsData.filter((function(e){return e.id!=t.postId}))});case"profile-reducer/SAVE_PHOTO_SUCESS":return N({},e,{profile:N({},e.profile,{photos:t.photos})});default:return e}},L=n(110),A={messagesData:[{id:1,text:"Love",time:"4:20"},{id:2,text:"Hate",time:"4:20"},{id:3,text:"Uptown",time:"4:20"},{id:4,text:"Shinin' like a diamond from an eagle to a pigeon",time:"4:20"},{id:5,text:"Bree",time:"4:20"},{id:6,text:"Love",time:"4:20"},{id:7,text:"Hate",time:"4:20"},{id:8,text:"Uptown",time:"4:20"},{id:9,text:"Shinin' like a diamond from an eagle to a pigeon",time:"4:20"},{id:10,text:"Bree",time:"4:20"}],dialogsList:[{id:1,name:"Lil Wayne"},{id:2,name:"Rick Ross"},{id:3,name:"Birdman"},{id:4,name:"Drake"},{id:5,name:"Dj Khaled"},{id:6,name:"Snopp Dogg"},{id:7,name:"Wiz Khalifa"},{id:8,name:"Swae Lee"},{id:9,name:"Slim Jxmmi"},{id:10,name:"Rick Rubin"}],newMessageText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;arguments.length>1&&arguments[1];return e};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z={users:[],firstThreeUsers:[],pageSize:3,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],displayingUsers:10,currentProfile:void 0},W=function(){var e=Object(s.a)(o.a.mark((function e(t,n,a,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Q(!0,t)),e.next=3,a(t);case 3:0==e.sent.resultCode&&n(r(t)),n(Q(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),G=function(e){return{type:"FOLLOW",userID:e}},V=function(e){return{type:"UNFOLLOW",userID:e}},H=function(e){return{type:"SET_USERS",users:e}},B=function(e){return{type:"users-reducer/SET_FIRST_THREE_USERS",firstThreeUsers:e}},K=function(e){return{type:"SET_CURRENT_PAGE",page:e}},J=function(e){return{type:"SET_TOTAL_USERS_COUNT",totalUsers:e}},q=function(e){return{type:"SET_IS_FETCHING",isFetching:e}},Q=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userID:t}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return R({},e,{users:e.users.map((function(e){return e.id===t.userID?R({},e,{followed:!0}):e}))});case"UNFOLLOW":return R({},e,{users:e.users.map((function(e){return e.id===t.userID?R({},e,{followed:!1}):e}))});case"SET_USERS":return R({},e,{users:t.users});case"SET_CURRENT_PAGE":return R({},e,{currentPage:t.page});case"SET_TOTAL_USERS_COUNT":return R({},e,{totalUsersCount:t.totalUsers});case"SET_IS_FETCHING":return R({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return R({},e,{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!=t.userID}))});case"users-reducer/SET_FIRST_THREE_USERS":return R({},e,{firstThreeUsers:t.firstThreeUsers});case"user-reducer/SET_CURRENT_PROFILE":return R({},e,{currentProfile:t.currentProfile});default:return e}};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={email:null,id:null,login:null,isAuth:!1,captchaUrl:null},ee=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:0===(n=e.sent).resultCode&&t(te(n.data.email,n.data.id,n.data.login,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},te=function(e,t,n,a){return{type:"SET_AUTH_USER_DATA",data:{email:e,id:t,login:n,isAuth:a}}},ne=function(e){return{type:"auth-reducer/GET_CAPTCHA_URL_SUCESS",captchaUrl:e}},ae=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getCaptchaUrl();case 2:n=e.sent,t(ne(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER_DATA":return X({},e,{},t.data);case"auth-reducer/GET_CAPTCHA_URL_SUCESS":return X({},e,{captchaUrl:t.captchaUrl});default:return e}};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie={initialized:!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return se({},e,{initialized:!0});default:return e}};function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe={newsData:[]},me=function(e){return{type:"news-reducer/GET_NEWS_DATA_SUCESS",newsData:e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"news-reducer/GET_NEWS_DATA_SUCESS":return le({},e,{newsData:t.newsData});case"news-reducer/UPDATE_NEWS_COMMENTARIES":var n=t.newsData._id,a=e.newsData.filter((function(e){return e._id==n}));return le({},e,{newsData:a});default:return e}};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge={email:null,id:null,login:null,isAuth:!1,captchaUrl:null},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"authentication-reducer/SET_AUTHENTICATION_USER_DATA":return _e({},e,{},t.data);default:return e}},be=n(136),we=n(135),Ee=Object(a.c)({profilePage:D,dialogsPage:L.a,navigation:F,usersPage:Y,newsPage:fe,auth:re,authentication:he,form:we.a,app:ce}),ve=Object(a.e)(Ee,Object(a.a)(be.a));window.store=ve;var Oe=ve,ye=n(0),Pe=n.n(ye),ke=n(56),Ne=n.n(ke),je=(n(257),n(18)),Se=n(19),Ce=n(21),Ie=n(20),Te=n(22),xe=(n(258),n(10)),Ue=n(51),De=n.n(Ue),Le=n(12),Ae=function(e){return Pe.a.createElement("header",{className:De.a.header},Pe.a.createElement("p",{className:De.a.header__name},"UNKNOWN UNTITLED SOCIAL NETWORK"),e.userData.isAuth?Pe.a.createElement("div",{className:De.a.header__logined},Pe.a.createElement("span",{className:De.a.header__welcome},"Welcome, ",e.userData.login),Pe.a.createElement("button",{onClick:e.logout,className:De.a.button_logout},"\u0412\u044b\u0439\u0442\u0438")):Pe.a.createElement(Le.NavLink,{to:"/login"},"\u0412\u043e\u0439\u0442\u0438"))},Fe=n(90),Me=function(e){function t(){return Object(je.a)(this,t),Object(Ce.a)(this,Object(Ie.a)(t).apply(this,arguments))}return Object(Te.a)(t,e),Object(Se.a)(t,[{key:"render",value:function(){return Pe.a.createElement(Ae,this.props)}}]),t}(Pe.a.Component),Re=Object(xe.b)((function(e){return{userData:e.auth}}),{setAuthUserDataThunk:ee,logout:function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:0===e.sent.resultCode&&t(te(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Me),ze=n(35),We=n.n(ze),Ge=function(e){function t(){return Object(je.a)(this,t),Object(Ce.a)(this,Object(Ie.a)(t).apply(this,arguments))}return Object(Te.a)(t,e),Object(Se.a)(t,[{key:"componentWillMount",value:function(){this.props.getFirstThreeUsers()}},{key:"render",value:function(){return Pe.a.createElement("nav",{className:We.a.nav},Pe.a.createElement("ul",null,Pe.a.createElement("li",null,Pe.a.createElement(Le.NavLink,{to:"/profile",className:We.a.navigation,activeClassName:We.a.active},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),Pe.a.createElement("li",null,Pe.a.createElement(Le.NavLink,{to:"/news",className:We.a.navigation},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),Pe.a.createElement("li",null,Pe.a.createElement(Le.NavLink,{to:"/dialogs",className:We.a.navigation,activeClassName:We.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),Pe.a.createElement("li",null,Pe.a.createElement(Le.NavLink,{to:"",className:We.a.navigation},"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b")),Pe.a.createElement("li",null,Pe.a.createElement(Le.NavLink,{to:"",className:We.a.navigation},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")),Pe.a.createElement("li",null,Pe.a.createElement(Le.NavLink,{to:"/users",className:We.a.navigation},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"))))}}]),t}(Pe.a.Component),Ve=Object(xe.b)((function(e){return{bestFriends:e.usersPage.firstThreeUsers}}),{getFirstThreeUsers:function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.next=3,y.getFirstThreeUsers();case 3:n=e.sent,t(B(n.items)),t(q(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ge),He=n(139),Be=n.n(He),Ke=function(e){return Pe.a.createElement("div",{className:Be.a.usersPage},Pe.a.createElement("div",null,e.usersList))},Je=n(36),qe=n.n(Je),Qe=function(e){return Pe.a.createElement("section",{className:qe.a.user},Pe.a.createElement("div",{className:qe.a.user__image},Pe.a.createElement("figure",null,Pe.a.createElement(Le.NavLink,{className:qe.a.user__image__avatar,to:"/profile/".concat(e.userData.id)},Pe.a.createElement("img",{src:void 0===e.userData.image?"https://i.pinimg.com/236x/19/93/93/1993934932cca30fa70f3ffed2a62479--justin-bieber-quotes-swag.jpg":e.userData.image,alt:"love"}))),e.userData.followed?Pe.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.userData.id})),className:qe.a.button+" "+qe.a.button_unfollow,onClick:function(){e.unFollowThunk(e.userData.id)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):Pe.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.userData.id})),className:qe.a.button+" "+qe.a.button_follow,onClick:function(){e.followThunk(e.userData.id)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")),Pe.a.createElement("div",{className:qe.a.user__body,key:e.userData.id},Pe.a.createElement("p",null,e.userData.name),Pe.a.createElement("span",null,"LA, "),Pe.a.createElement("span",null,"USA"),Pe.a.createElement("p",null,e.userData.id),Pe.a.createElement("p",{className:qe.a.user__status},e.userData.status)))},Ye=n(140),Ze=n.n(Ye),Xe=n(141),$e=n.n(Xe),et=function(e){return Pe.a.createElement("img",{className:Ze.a.preloader,src:$e.a})},tt=n(23),nt=n(62),at=n.n(nt),rt=function(e){for(var t=Math.ceil(e.totalCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);var r=n.length,o=Math.ceil(r/e.displayingElelements),s=Object(ye.useState)(1),i=Object(tt.a)(s,2),c=i[0],u=i[1],l=Object(ye.useState)(e.displayingElelements),p=Object(tt.a)(l,2),m=p[0],f=p[1],d=Object(ye.useState)(1),_=Object(tt.a)(d,2),g=_[0],h=_[1];return Pe.a.createElement("div",{className:at.a.pagination},g>1?Pe.a.createElement("button",{onClick:function(){u(c-e.displayingElelements),f(m-e.displayingElelements),h(g-1),e.onPageChanged(c+1)},className:at.a.button},"\u041d\u0430\u0437\u0430\u0434"):null,n.slice(c-1,m).map((function(t){return Pe.a.createElement("span",{onClick:function(n){e.onPageChanged(t)},className:e.currentPage===t&&at.a.activePage},"".concat(t," "))})),g<o?Pe.a.createElement("button",{onClick:function(){u(m+1),f(m+e.displayingElelements),h(g+1),e.onPageChanged(m+1)},className:at.a.button},"\u0414\u0430\u043b\u0435\u0435"):null)},ot=n(142),st=Object(ot.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return e.id>1436}))})),it=function(e){return e.usersPage.pageSize},ct=function(e){return e.usersPage.totalUsersCount},ut=function(e){return e.usersPage.currentPage},lt=function(e){return e.usersPage.isFetching},pt=function(e){return e.usersPage.followingInProgress},mt=function(e){function t(){var e,n;Object(je.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Ce.a)(this,(e=Object(Ie.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.setCurrentPage(e),n.props.getUsers(e,n.props.pageSize)},n}return Object(Te.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){var e=this,t=this.props.users.map((function(t){return Pe.a.createElement(Qe,{userData:t,toggleFollowingInProgress:e.props.toggleFollowingInProgress,followingInProgress:e.props.followingInProgress,followThunk:e.props.followThunk,unFollowThunk:e.props.unFollowThunk,follow:e.props.follow,unfollow:e.props.unfollow})}));return Pe.a.createElement(Pe.a.Fragment,null,this.props.isFetching?Pe.a.createElement(et,null):null,Pe.a.createElement(rt,{totalCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,displayingElelements:this.props.displayingUsers}),Pe.a.createElement(Ke,{usersList:t}))}}]),t}(Pe.a.Component),ft=Object(xe.b)((function(e){return{users:st(e),pageSize:it(e),totalUsersCount:ct(e),currentPage:ut(e),isFetching:lt(e),followingInProgress:pt(e),displayingUsers:e.usersPage.displayingUsers}}),{follow:G,unfollow:V,setCurrentPage:K,toggleFollowingInProgress:Q,getUsers:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(q(!0)),a(K(e)),n.next=4,y.getUsers(e,t);case 4:r=n.sent,a(q(!1)),a(H(r.items)),r.totalCount>100?a(J(100)):a(J(r.totalCount));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followThunk:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Q(!0,e)),y.followUser.bind(y),G,t.next=5,y.followUser(e);case 5:0==t.sent.resultCode&&n(G(e)),n(Q(!1,e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollowThunk:function(e){return function(t){var n=y.unFollowUser.bind(y);W(e,t,n,V)}}})(mt),dt=n(11),_t=n(98),gt=n.n(_t),ht=n(38),bt=n.n(ht),wt=n(143),Et=n.n(wt),vt=n(144),Ot=n.n(vt),yt=function(e){return Pe.a.createElement("div",{className:e.className,onClick:function(t){e.onClick()}},Pe.a.createElement("img",{className:Et.a.like,src:Ot.a,alt:"like"}))},Pt=function(e){return Pe.a.createElement("div",{className:bt.a.post_wrapper},e.userId===e.uid?Pe.a.createElement("button",{type:"submit",className:bt.a.button_delete,onClick:function(){return e.deletePost(e.postId,e.userId)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"):null,Pe.a.createElement("p",null,e.name),Pe.a.createElement("p",null,e.date),Pe.a.createElement("p",{className:bt.a.post__message},e.postText),Pe.a.createElement("section",{className:bt.a.post__like},e.usersLikes.some((function(t){return t==e.userId}))?Pe.a.createElement(yt,{onClick:function(){return e.deleteLike(e.postId,e.userId)},className:bt.a.post__likeSign+" "+bt.a.isLiked}):Pe.a.createElement(yt,{onClick:function(){return e.addLike(e.postId,e.userId)},className:bt.a.post__likeSign}),Pe.a.createElement("p",{className:bt.a.post__likesCount},e.likes)))},kt=n(123),Nt=n(93),jt=n(134),St=n(34),Ct=n(17),It=Object(St.a)(40),Tt=Object(jt.a)({form:"addNewPostForm"})((function(e){return Pe.a.createElement(kt.a,{onSubmit:e.handleSubmit,className:gt.a.newPostTextarea},Pe.a.createElement(Nt.a,{rows:"8",validate:[St.b,It],placeholder:e.newPostText,name:"sendNewPostTextAreaValue",component:Ct.c}),Pe.a.createElement("button",{className:gt.a.send,onKeyPress:function(t){"Enter"===t.key&&e.handleSubmit()}},"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442"))})),xt=function(e){var t=e.postsData.map((function(t){return Pe.a.createElement(Pt,{key:t.postId,name:e.userName,deletePost:e.deletePost,addLike:e.addLike,deleteLike:e.deleteLike,usersLikes:t.usersLikes,likes:t.likes,userId:e.userId,uid:t.uid,postId:t.postId,postText:t.postText,date:new Date(t.date).toLocaleString()})}));return Pe.a.createElement("div",null,Pe.a.createElement(Tt,{onSubmit:function(t){e.addPost(e.userId,t.sendNewPostTextAreaValue)},newPostText:e.newPostText}),t)},Ut=Object(xe.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText,userName:e.auth.login,userId:e.auth.id}}),{addPost:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.savePost(e,t);case 2:200===n.sent.status&&a(I(e));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deletePost:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.deletePost(e);case 2:200===n.sent.status&&a(I(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},addLike:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.addLike(e,t);case 2:200===n.sent.status&&a(I(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteLike:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.deleteLike(e,t);case 2:200===n.sent.status&&a(I(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(xt),Dt=n(14),Lt=n.n(Dt),At=n(145),Ft=n.n(At),Mt=function(e){var t=Object(ye.useState)(!1),n=Object(tt.a)(t,2),a=n[0],r=n[1],o=Object(ye.useState)(e.status),s=Object(tt.a)(o,2),i=s[0],c=s[1];Object(ye.useEffect)((function(){c(e.status)}),[e.status]);var u=function(){r(!1),e.updateStatusThunk(i)};return Pe.a.createElement("section",null,a?Pe.a.createElement("div",null,Pe.a.createElement("input",{onBlur:u,onKeyPress:function(e){"Enter"===e.key&&u()},onChange:function(e){c(e.currentTarget.value)},autoFocus:!0})):Pe.a.createElement("div",null,Pe.a.createElement("span",{className:Ft.a.status,onDoubleClick:function(){r(!0)}},"".concat(e.status))))},Rt=n(146),zt=n.n(Rt),Wt=n(63),Gt=n.n(Wt),Vt=function(e){var t=e.onConfirm;e.onCancel;return Pe.a.createElement("div",{className:Gt.a.confirmNavigationModalWrap},Pe.a.createElement("div",{className:Gt.a.confirmNavigationModal},Pe.a.createElement("div",{className:Gt.a.confirmNavigationModal__inner},Pe.a.createElement("p",{className:Gt.a.confirmNavigationModal.message},'"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?"'),Pe.a.createElement("button",{onClick:t},"\u0414\u0430"))))},Ht=Object(jt.a)({form:"ProfileInfoEditMode"})((function(e){var t=Object(ye.useState)(!0),n=Object(tt.a)(t,2),a=n[0];n[1];return Pe.a.createElement("form",{onSubmit:e.handleSubmit},Pe.a.createElement(zt.a,{when:a},(function(t){t.onConfirm;var n=t.onCancel;return Pe.a.createElement(Vt,{when:!0,onCancel:n,onConfirm:e.handleSubmit})})),null==e.profile.photos.small?Pe.a.createElement("img",{className:Lt.a.profileInfo__avatar,src:"http://www.galerieserge.ru/pic/ava/noava.png",alt:"noAva"}):Pe.a.createElement("img",{className:Lt.a.profileInfo__avatar,src:e.profile.photos.small,alt:"avatar"}),e.autorizedUserProfile?Pe.a.createElement("label",{className:Lt.a.profileInfo__uploadAvatar},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e",Pe.a.createElement("input",{onChange:e.onAvatarUploading,className:Lt.a.profileInfo__uploadAvatar,name:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",type:"file"})):null,e.autorizedUserProfile?Pe.a.createElement("button",{type:"submit",className:Lt.a.profileInfo__editMode},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"):null,e.profile.userId!=e.autorizedUserId?Pe.a.createElement("p",null,e.status):Pe.a.createElement(Mt,{status:e.status,updateStatusThunk:e.updateStatusThunk}),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u0418\u043c\u044f:")," ",e.profile.fullName)," ",Object(Ct.a)([],"Full name","fullName",Ct.b,null,Lt.a.profileInfoEditMode__input),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u0413\u043e\u0440\u043e\u0434:")," LA, USA"),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442: ")," 18 \u043b\u0435\u0442"),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),e.profile.aboutMe)," ",Object(Ct.a)([],"About me","aboutMe",Ct.b,null,Lt.a.profileInfoEditMode__input),Pe.a.createElement("span",null,Pe.a.createElement("b",null,"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b: ")),e.profile.lookingForAJob?Pe.a.createElement("p",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"):Pe.a.createElement("span",null,"\u041d\u0435 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"),Object(Ct.a)([],"Looking for a job","lookingForAJob",Ct.b,{type:"checkbox"},Lt.a.profileInfoEditMode__checkbox),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ")),Object.keys(e.profile.contacts).map((function(t,n){return Pe.a.createElement("div",null,Pe.a.createElement(Kt,{key:t,error:e.error,contactTitle:t,contactValue:e.profile.contacts[n]}),Object(Ct.a)([],"".concat(t),"Contacts.".concat(t),Ct.b,{},Lt.a.profileInfoEditMode__input))})))})),Bt=Ht=Object(dt.o)(Ht),Kt=function(e){return Pe.a.createElement("div",null,Pe.a.createElement("em",null,"".concat(e.contactTitle,": ")),Pe.a.createElement("span",null,e.contactValue),e.error&&Pe.a.createElement("span",null,e.error))},Jt=function(e){return Pe.a.createElement(Pe.a.Fragment,null,Pe.a.createElement("div",{className:Lt.a.profileInfo__avatarDiv},null==e.profile.photos.small?Pe.a.createElement("img",{className:Lt.a.profileInfo__avatar,src:"http://www.galerieserge.ru/pic/ava/noava.png",alt:"noAva"}):Pe.a.createElement("img",{className:Lt.a.profileInfo__avatar,src:e.profile.photos.small,alt:"avatar"}),e.autorizedUserProfile?Pe.a.createElement("label",{className:Lt.a.profileInfo__uploadAvatar},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e",Pe.a.createElement("input",{onChange:e.onAvatarUploading,className:Lt.a.profileInfo__uploadAvatar,name:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",type:"file"})):null),e.autorizedUserProfile?Pe.a.createElement("button",{type:"submit",onClick:e.switchToEditMode,className:Lt.a.profileInfo__editMode},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"):null,e.profile.userId!=e.autorizedUserId?Pe.a.createElement("p",null,e.status):Pe.a.createElement(Mt,{status:e.status,updateStatusThunk:e.updateStatusThunk}),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u0418\u043c\u044f:")," ",e.profile.fullName),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u0413\u043e\u0440\u043e\u0434:")," LA, USA"),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442:")," 18 \u043b\u0435\u0442"),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u041e\u0431\u043e \u043c\u043d\u0435: "),e.profile.aboutMe),Pe.a.createElement("span",null,Pe.a.createElement("b",null,"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b: ")),e.profile.lookingForAJob?Pe.a.createElement("span",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"):Pe.a.createElement("span",null,"\u041d\u0435 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"),Pe.a.createElement("p",null,Pe.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ")),Object.keys(e.profile.contacts).map((function(t,n){return Pe.a.createElement(Kt,{key:t,contactTitle:t,contactValue:e.profile.contacts["".concat(t)]})})))},qt=function(e){var t=Object(ye.useState)(!1),n=Object(tt.a)(t,2),a=n[0],r=n[1];return e.profile?Pe.a.createElement("section",{className:Lt.a.profileInfo},a?Pe.a.createElement(Bt,Object.assign({initialValues:e.profile,switchToViewMode:function(){r(!1)},onSubmit:function(t){console.log(t),e.saveProfileChanges(Object.defineProperty(t,"lookingForAJobDescription",{value:"no",writable:!0,enumerable:!0,configurable:!0})),r(!1)}},e)):Pe.a.createElement(Jt,Object.assign({},e,{switchToEditMode:function(){r(!0)},onAvatarUploading:function(t){t.target.files.length&&e.uploadPhoto(t.target.files[0])}}))):Pe.a.createElement(et,null)},Qt=(n(300),function(e){return Pe.a.createElement("div",null,Pe.a.createElement(qt,{userId:e.userId,currentProfile:e.currentProfile,status:e.status,profile:e.profile,updateStatusThunk:e.updateStatusThunk,autorizedUserId:e.autorizedUserId,autorizedUserProfile:e.autorizedUserProfile,uploadPhoto:e.uploadPhoto,saveProfileChanges:e.saveProfileChanges}),e.userId==e.autorizedUserId||void 0==e.userId?Pe.a.createElement(Ut,null):null)}),Yt=function(e){function t(){return Object(je.a)(this,t),Object(Ce.a)(this,Object(Ie.a)(t).apply(this,arguments))}return Object(Te.a)(t,e),Object(Se.a)(t,[{key:"profileRender",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getPosts(e),this.props.setUserProfileThunk(e),this.props.getUserStatusThunk(e)}},{key:"componentDidMount",value:function(){this.profileRender()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.profileRender()}},{key:"render",value:function(){return Pe.a.createElement(Qt,{setUserProfileThunk:this.props.setUserProfileThunk,userId:this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusThunk:this.props.updateStatusThunk,currentProfile:this.props.currentProfile,autorizedUserId:this.props.autorizedUserId,autorizedUserProfile:!this.props.match.params.userId,uploadPhoto:this.props.uploadPhoto,saveProfileChanges:this.props.saveProfileChanges})}}]),t}(Pe.a.Component),Zt=Object(a.d)(Object(xe.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.id,currentProfile:e.usersPage.currentProfile}}),{setUserProfile:T,getUserStatusThunk:function(e){return function(t){f.getStatus(e).then((function(e){t(x(e.data))}))}},updateStatusThunk:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(x(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},setUserProfileThunk:U,uploadPhoto:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.uploadPhoto(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"profile-reducer/SAVE_PHOTO_SUCESS",photos:a.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileChanges:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,a){var r,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.id,t.next=3,f.saveProfileChanges(e);case 3:0===(s=t.sent).data.resultCode?n(U(r)):(console.log(s.data.messages),i=s.data.messages[0],n(Object(P.a)("ProfileInfoEditMode",{_error:i})));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getPosts:I}),dt.o,Fe.a)(Yt),Xt=n(75),$t=n.n(Xt),en=Object(jt.a)({form:"login"})((function(e){return Pe.a.createElement(kt.a,{className:$t.a.loginForm,onSubmit:e.handleSubmit},Pe.a.createElement("div",null,Pe.a.createElement(Nt.a,{validate:[St.b],placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"email",component:Ct.b})),Pe.a.createElement("div",null,Pe.a.createElement(Nt.a,{validate:[St.b],placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",component:Ct.b})),Pe.a.createElement("div",null,Pe.a.createElement(Nt.a,{type:"checkbox",name:"rememberMe",component:"input"}),"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"),Pe.a.createElement("div",null,Pe.a.createElement("button",{type:"submit"},"\u0412\u043e\u0439\u0442\u0438")),null!=e.captchaUrl?Pe.a.createElement("img",{src:e.captchaUrl}):null,e.captchaUrl&&Pe.a.createElement("div",null,Pe.a.createElement(Nt.a,{validate:[St.b],type:"input",name:"captcha",component:"input"}),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"),e.error&&Pe.a.createElement("span",null,"".concat(e.error)))})),tn=function(e){function t(){var e,n;Object(je.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Ce.a)(this,(e=Object(Ie.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){n.props.login(e.email,e.password,e.rememberMe,e.captcha)},n}return Object(Te.a)(t,e),Object(Se.a)(t,[{key:"render",value:function(){return this.props.isAuth?Pe.a.createElement(dt.c,{to:"/profile"}):Pe.a.createElement("section",null,Pe.a.createElement("h1",{className:$t.a.login__name},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),Pe.a.createElement(en,{captchaUrl:this.props.captchaUrl,onSubmit:this.onSubmit}),Pe.a.createElement("p",{className:$t.a.notLogined},"\u0412\u044b \u043d\u0435 \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0435\u043d\u044b"))}}]),t}(Pe.a.Component),nn=Object(xe.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,a){return function(){var r=Object(s.a)(o.a.mark((function r(s){var i,c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_(e,t,n,a);case 2:i=r.sent,console.log(i),0===i.resultCode?s(ee()):1===i.resultCode?(c=i.messages.length>0?i.messages[0]:void 0,s(Object(P.a)("login",{_error:c}))):10===i.resultCode&&s(ae());case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})(tn),an=n(147),rn=n.n(an),on=(n(301),function(e){return Pe.a.createElement("section",null)}),sn=function(e){return Pe.a.createElement("aside",{className:rn.a.sidebar},Pe.a.createElement(on,null))},cn=(n(302),n(24)),un=n.n(cn),ln=n(52),pn=n.n(ln),mn=function(e){return Pe.a.createElement("div",{className:pn.a.newsCommentary},Pe.a.createElement("p",null,e.commentary.userName),Pe.a.createElement("p",{className:pn.a.newsCommentary__date},new Date(e.commentary.date).toLocaleString()),Pe.a.createElement("p",{className:pn.a.newsCommentary__text},e.commentary.commentaryText),e.commentary.userId===e.userId?Pe.a.createElement("button",{type:"submit",onClick:function(){return e.deleteCommentaryForNews(e.newsId,e.commentary._id)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"):null)},fn=function(e){if(!e.newsData.commentaries)return Pe.a.createElement(et,null);var t=e.newsData.commentaries.map((function(t,n){return Pe.a.createElement(mn,{key:n,newsId:e.newsData.newsId,deleteCommentaryForNews:e.deleteCommentaryForNews,commentary:t,userId:e.userId})}));return Pe.a.createElement("div",null,Pe.a.createElement("h4",{className:pn.a.commentariesName},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438: ".concat(e.newsData.commentaries.length)),Pe.a.createElement("div",{className:pn.a.newsCommentariesList},t))},dn=n(148),_n=n.n(dn),gn=n(149),hn=n.n(gn),bn=function(e){return Pe.a.createElement("div",{className:e.className,onClick:e.onClick},Pe.a.createElement("img",{className:_n.a.commentary,src:hn.a}))},wn=Object(St.a)(40),En=Object(jt.a)({form:"addNewsCommentaryReduxForm"})((function(e){return Pe.a.createElement(kt.a,{onSubmit:e.handleSubmit,className:un.a.news__commentary},Pe.a.createElement(Nt.a,{rows:"8",validate:[St.b,wn],name:"news".concat(e.newsId,"\u0421ommentaryText"),component:Ct.c}),Pe.a.createElement("button",{autoFocus:!0,className:un.a.button},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))})),vn=function(e){var t=Object(ye.useState)(!1),n=Object(tt.a)(t,2),a=n[0],r=n[1],o=Object(ye.useState)(!1),s=Object(tt.a)(o,2);s[0],s[1];return Pe.a.createElement("div",{className:un.a.news,key:e.newsDataToNewsComponent.newsId},Pe.a.createElement("h3",{className:un.a.news__name},e.newsDataToNewsComponent.newsName),Pe.a.createElement("p",{className:un.a.news__date},new Date(e.newsDataToNewsComponent.date).toLocaleString().substring(-10,10)),Pe.a.createElement("img",{className:un.a.news__hero,src:e.newsDataToNewsComponent.newsImage||"https://www.grekomania.ru/images/places/19/cyclades/santorini/big/88316_Famous-Santorini-sunset-3.jpg",alt:""}),Pe.a.createElement("p",null,e.newsDataToNewsComponent.newsText),Pe.a.createElement(fn,{newsData:e.newsDataToNewsComponent,userId:e.userId,deleteCommentaryForNews:e.deleteCommentaryForNews}),Pe.a.createElement("div",{className:un.a.news__likeAndCommentaryPanel}),a?Pe.a.createElement(En,{onBlur:function(){r(!1)},onSubmit:function(t){e.addCommentaryForNews(e.newsDataToNewsComponent.newsId,t["news".concat(e.newsDataToNewsComponent.newsId,"\u0421ommentaryText")],e.userName,e.userId),r(!1)},newsId:e.newsDataToNewsComponent.newsId}):Pe.a.createElement("section",{className:un.a.news__likeAndCommentaryPanel},Pe.a.createElement(bn,{className:un.a.news__likeAndCommentaryPanel__commentarySign,onClick:function(){r(!0)}}),e.newsDataToNewsComponent.usersLikes.some((function(t){return t==e.userId}))?Pe.a.createElement(yt,{onClick:function(){e.deleteLike(e.newsDataToNewsComponent.newsId,e.userId)},className:un.a.news__likeAndCommentaryPanel__likeSign+" "+un.a.isLiked}):Pe.a.createElement(yt,{onClick:function(){e.addLike(e.newsDataToNewsComponent.newsId,e.userId)},className:un.a.news__likeAndCommentaryPanel__likeSign}),Pe.a.createElement("p",{className:un.a.likeAndCommentaryPanel__likeSign},e.newsDataToNewsComponent.likes)))},On=Object(xe.b)((function(e){return{newsList:e.newsPage.newsData,userId:e.auth.id,userName:e.auth.login}}),{addCommentaryForNews:function(e,t,n,a){return function(){var r=Object(s.a)(o.a.mark((function r(s){var i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w(e,t,n,a);case 2:if(200!==r.sent.status){r.next=8;break}return r.next=6,b();case 6:i=r.sent,s(me(i));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},getNewsData:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:a=t.sent,n(me(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addLike:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(e,t);case 2:if(r=n.sent,console.log(r),200!==r.status||null==r.data){n.next=9;break}return n.next=7,b();case 7:s=n.sent,a(me(s));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteLike:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O(e,t);case 2:if(200!==(r=n.sent).status||null==r.data){n.next=8;break}return n.next=6,b();case 6:s=n.sent,a(me(s));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteCommentaryForNews:function(e,t){return function(){var n=Object(s.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E(e,t);case 2:if(200!==n.sent.status){n.next=8;break}return n.next=6,b();case 6:r=n.sent,a(me(r));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.newsList,n=e.userId,a=e.userName,r=e.getNewsData,o=e.addCommentaryForNews,s=e.deleteCommentaryForNews,i=e.addLike,c=e.deleteLike;if(Object(ye.useEffect)((function(){r()}),[]),!t)return Pe.a.createElement(et,null);var u=t.map((function(e){return Pe.a.createElement(vn,{userId:n,userName:a,addCommentaryForNews:o,deleteCommentaryForNews:s,addLike:i,deleteLike:c,newsDataToNewsComponent:e})}));return Pe.a.createElement("section",null,u)})),yn=Pe.a.lazy((function(){return n.e(3).then(n.bind(null,309))})),Pn=function(e){function t(){var e,n;Object(je.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(Ce.a)(this,(e=Object(Ie.a)(t)).call.apply(e,[this].concat(r)))).catchAllUnhandledErrors=function(e,t){console.log("error"),console.error()},n}return Object(Te.a)(t,e),Object(Se.a)(t,[{key:"componentDidMount",value:function(){this.props.initializedApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return Pe.a.createElement("div",{className:"app-wrapper"},Pe.a.createElement(Re,null),Pe.a.createElement(Ve,null),Pe.a.createElement(sn,null),Pe.a.createElement("div",{className:"content"},Pe.a.createElement(dt.g,null,Pe.a.createElement(dt.d,{exact:!0,path:"/",render:function(){return Pe.a.createElement(dt.c,{to:"/profile"})}}),Pe.a.createElement(dt.d,{path:"/news",render:function(){return Pe.a.createElement(On,null)}}),Pe.a.createElement(dt.d,{path:"/profile/:userId?",render:function(){return Pe.a.createElement(Zt,null)}}),Pe.a.createElement(dt.d,{path:"/dialogs",render:function(){return Pe.a.createElement(Pe.a.Suspense,{fallback:Pe.a.createElement("div",null,"Loading...")},Pe.a.createElement(yn,null))}}),Pe.a.createElement(dt.d,{path:"/users",render:function(){return Pe.a.createElement(ft,null)}}),Pe.a.createElement(dt.d,{path:"/login",render:function(){return Pe.a.createElement(nn,null)}}),Pe.a.createElement(dt.d,{path:"/*",render:function(){return Pe.a.createElement("div",null,"404 NOT FOUND")}}))))}}]),t}(Pe.a.Component),kn=Object(a.d)(Object(xe.b)((function(e){return{initialized:e.app.initialized}}),{initializedApp:function(){return function(e){var t=e(ee());Promise.all([t]).then((function(){return e({type:"INITIALIZED_SUCCESS"})}))}}}),dt.o)(Pn);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Ne.a.render(Pe.a.createElement(Le.BrowserRouter,{basename:"/react-network"},Pe.a.createElement(xe.a,{store:Oe},Pe.a.createElement(kn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},31:function(e,t,n){e.exports={input:"ValidationForms_input__33chs",input_zeroValueError:"ValidationForms_input_zeroValueError__1SqR4",textarea_maxLengthError:"ValidationForms_textarea_maxLengthError__35yqu"}},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){return e?void 0:"Required"},r=function(e){return function(t){if(t&&t.length>e)return"Max length error"}}},35:function(e,t,n){e.exports={nav:"Navigation_nav__1TyfI",navigation:"Navigation_navigation__1O0V2",active:"Navigation_active__2eLiK",bestfriends:"Navigation_bestfriends__1JO9G",bestfriends_persons:"Navigation_bestfriends_persons__KWk85",bestfriend:"Navigation_bestfriend__1lqpx"}},36:function(e,t,n){e.exports={user:"User_user__1FlO7",user__image:"User_user__image__vVajB",user__image__avatar:"User_user__image__avatar__kP5PM",user__body:"User_user__body__2hWVW",user__status:"User_user__status__1WFov",button:"User_button__2jNKh",button_follow:"User_button_follow__1C_9j",button_unfollow:"User_button_unfollow__1FZ7B"}},38:function(e,t,n){e.exports={button:"Post_button__3L8G_",like:"Post_like__1H8vx",post_wrapper:"Post_post_wrapper__2TVcd",post__likeAndLikesCountPanel:"Post_post__likeAndLikesCountPanel__3eBBK",post__likeSign:"Post_post__likeSign__1dQDL",post__message:"Post_post__message__3_3Vy",likeAndCommentaryPanel__likeSign:"Post_likeAndCommentaryPanel__likeSign__3_v0V",isLiked:"Post_isLiked__j__CR",post__like:"Post_post__like__2zMeZ",post__likesCount:"Post_post__likesCount__2udt9",button_delete:"Post_button_delete__1PPDf"}},51:function(e,t,n){e.exports={header:"Header_header__37u3Q",header__logined:"Header_header__logined__3iMn_",header__welcome:"Header_header__welcome__2iO3-",button_logout:"Header_button_logout__3hl2L"}},52:function(e,t,n){e.exports={newsCommentary__date:"NewsCommentaries_newsCommentary__date__3KDRS",newsCommentary__text:"NewsCommentaries_newsCommentary__text__3ITn_",newsCommentariesList:"NewsCommentaries_newsCommentariesList__2ybW6",newsCommentary:"NewsCommentaries_newsCommentary__3_PyY",commentariesName:"NewsCommentaries_commentariesName__3lVvu"}},62:function(e,t,n){e.exports={activePage:"Pagination_activePage__3acUF",button_showMore:"Pagination_button_showMore__3JlVR",pagination:"Pagination_pagination__39esa",button:"Pagination_button__2c18F"}},63:function(e,t,n){e.exports={confirmNavigationModalWrap:"ConfirmNavigationModal_confirmNavigationModalWrap__2Fue7",confirmNavigationModal:"ConfirmNavigationModal_confirmNavigationModal__K3QAq",confirmNavigationModal__inner:"ConfirmNavigationModal_confirmNavigationModal__inner__23Bg5"}},75:function(e,t,n){e.exports={loginForm:"Login_loginForm__1mUA1",notLogined:"Login_notLogined__27YrQ",login__name:"Login_login__name__X9GwK"}},90:function(e,t,n){"use strict";var a=n(18),r=n(19),o=n(21),s=n(20),i=n(22),c=n(0),u=n.n(c),l=n(11),p=n(10),m=function(e){return{isAuth:e.auth.isAuth}};t.a=function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(o.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(i.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(l.c,{to:"/login"})}}]),n}(u.a.Component);return Object(p.b)(m)(t)}},98:function(e,t,n){e.exports={newPostTextarea:"Posts_newPostTextarea__15dBb",send:"Posts_send__3L7TI"}}},[[174,1,2]]]);
//# sourceMappingURL=main.2102bf07.chunk.js.map